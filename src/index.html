<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
		<title>Projeto Turing</title>

		<link rel="stylesheet" href="./assets/css/reset.css">
		<link rel="stylesheet" href="./assets/css/style.css">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Rubik+Maze&display=swap" rel="stylesheet">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Rubik+Maze&family=Ubuntu:wght@300&display=swap" rel="stylesheet">

	</head>

	<body>
		
		<header>

			<img src="./assets/images/Vector.png" alt="logo da alura">

        </header>

		<main>
			
			

			<textarea id="mensagem" class="input-padrao" placeholder="Escreva o texto descriptografado aqui" required autofocus></textarea>
				
				<section class="text-box" >

					<textarea id="mensagemCripto" class="input-padrao" readonly></textarea>

				</section>

			<button id="copy" onclick="copy()">Copiar</button>

			<section class="button-box">

				<button class="codificador" onclick="criptografar()">Criptografar</button>
				<button class="decodificador"onclick="verificadora()">Descriptografar</button>

			</section>
			
		<script>
						/*"e" = "enter"
						"i" = "imes"
						"a" = "ai"
						"o" = "ober"
						"u" = "ufat"*/

			var entrada = document.querySelector("#mensagem");
			var saida = document.querySelector("#mensagemCripto");	

			function criptografar(){
	
				
				var text = entrada.value;
				var criptoText = text.replace(/[E\e\é\ê]/gi, "enter").replace(/[I\i\í]/gi, "imes").replace(/[A\a\á\â]/gi, "ai").replace(/[O\o\ó\ô]/gi, "ober").replace(/U\u\ú/gi, "ufat");
				console.log(criptoText);

				saida.innerText = criptoText;
				entrada.value = "";
								
			}

			function descriptografar(){

				var criptoText = entrada.value
				var descriptoText = criptoText.replace(/enter/gi, "e").replace(/imes/gi, "i").replace(/ai/gi, "a").replace(/ober/gi, "o").replace(/ufat/gi, "u");
				console.log(descriptoText);

				saida.innerText = descriptoText;
				entrada.value = "";
							
			}

			function verificadora() {

				var criptoText = entrada.value
				var segredos = ["enter", "imes", "ai", "ober", "ufat"];
				var verificar = segredos.some(elementoArray => criptoText.includes(elementoArray)); 

				if (verificar) {
					descriptografar();
				} else {
					alert('A mensagem não está criptografada');
				}

			}

			function copy() {
				let copyText = document.querySelector("#mensagemCripto");
				copyText.select();
				document.execCommand("copy");
			}

			document.querySelector("#copy").addEventListener("click", copy);
			
		</script>


		</main>

		<footer>

			Coded by: Chrystian Leal Lopes

        </footer>
	</body>
</html>
